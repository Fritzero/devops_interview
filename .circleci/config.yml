# You're free to change the jobs and the workflow logic as needed.
# Doc: https://circleci.com/docs/2.0/getting-started/#running-your-first-circleci-build
version: 2.1
jobs:
  install:
    docker:
      - image: circleci/python:3.6.2-stretch-browsers
    steps:
      - checkout
      - run:
          name: Install Python deps in a venv
          command: |
            python3 -m venv venv
            . venv/bin/activate
            pip install -r webserver/requirements.txt
      - save_cache:
          key: deps1-{{ .Branch }}-{{ checksum "webserver/requirements.txt" }}
          paths:
            - "venv"
  test:
  deploy:

workflows:
 version: 2
 deploy-server:
   jobs:
     - install
     # - test:
     #     requires:
     #       - install
     # - deploy:
     #     requires:
     #       - deploy
